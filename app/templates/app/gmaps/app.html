{% load static %}

{% block extratyle %}
    <style>
        #app-map {
            width: 100%;
            height: 400px;
        }
    </style>
{% endblock %}

<div id="app-map"></div>
{% autoescape off %}
    <script type="text/javascript">
        var app_geo_points ={{ app.geo_points }};
        $(function () {
            $("#app-map").googleMap({
                zoom: 12, // Initial zoom level (optional)
                coords: [78.8718, 21.7679], // Map center (optional)
                type: "ROADMAP" // Map type (optional)
            });

            $.each(app_geo_points, function (key, value) {
                $("#app-map").addMarker({
                    coords: [value["geo"][0], value["geo"][1]],
                    title: value["geo"]["city_name"],
                    text: "<p>" + value["geo"]["city_name"] + "</p>"
                });
            });
        })
    </script>
{% endautoescape %}